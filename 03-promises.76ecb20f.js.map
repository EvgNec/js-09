{"mappings":"AAyBsB,IAACA,KAKT,EAJPC,MAAM,sCAAsCD,KAAME,MAAKC,GAAKA,EAAEC,UAIpDF,MAEjB,SAAwBG,GACtBC,QAAQC,IAAI,UAAWF,E,IAHaG,OAMtC,SAAsBC,GAAOH,QAAQC,IAAIE,E,IAMzCH,QAAQC,IAAI,aAGZ,MAAMG,EANS,CACb,OAAQ,OAAQ,QAAS,OAAO,SAKVC,KAAIC,GAO5B,SAAaA,GACX,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,GAOaC,EAPQ,IAOHC,EAPS,KAQ5BC,KAAKC,MAAMD,KAAKE,UAAYH,EAAMD,GAAOA,IADlD,IAAuBA,EAAKC,EANxBI,YAAW,KACTR,EAAQ,C,MAAEF,E,KAAOI,GAAO,GACvBA,EAAK,G,CAZyBO,CAAIX,KAEzCC,QAAQW,KAAKd,GAAUR,MAAKuB,GAAKnB,QAAQC,IAAI,eAAgBkB,KAC7DZ,QAAQW,KAAKd,GAAUR,MAAK,EAACU,MAAEA,EAAKI,KAAEA,KAAWV,QAAQC,IAAI,eAAeK,aAAiBI,OAE7FH,QAAQa,IAAIhB,GAAUR,MAAKuB,GAAKA,EAAEd,KAAI,EAACC,MAAEA,EAAKI,KAAEA,KAAWV,QAAQC,IAAI,eAAeK,aAAiBI","sources":["src/js/03-promises.js"],"sourcesContent":["// function createPromise(position, delay) {\n//--  return new Promise(function (resolve, reject) {\n//   const shouldResolve = Math.random() > 0.3;\n//   if (shouldResolve) {\n//     // Fulfill\n//-- resolve('good');\n//   } else {\n//     // Reject\n//-- reject('bad');\n//   }\n    // }\n  //--});\n\n  //-- createPromise(1, 1000)\n  //--.then(result => console.log(result))\n  //--.catch(err => console.log(err))\n  \n  \n// const fetchPockemon = (id, onSuccess, onErrror) => {\n// fetch(`https://pokeapi.co./api/v2/pokemon/${id}`)\n//   .then(r => r.json())\n//   .then(pokemon => { onFetchSuccess(pokemon) })\n//   .catch(error => { onFetchError(err) });\n// }\n\nconst fetchPockemon = (id) => {\nreturn fetch(`https://pokeapi.co./api/v2/pokemon/${id}`).then(r => r.json())\n}\n\n// fetchPockemon(2, onFetchSuccess, onFetchError);\nfetchPockemon(2).then(onFetchSuccess).catch(onFetchError);\n\nfunction onFetchSuccess(pokemon) {\n  console.log(\"pokemon\", pokemon);  \n};\n\nfunction onFetchError(err) { console.log(err); };\n\n\nconst horses = [\n  'Rast', 'West', 'First', 'Last','Lucky'\n]\nconsole.log('Start RUN');\n\n// run('Test').then(x => console.log(x));\nconst promises = horses.map(horse => run(horse));\n\nPromise.race(promises).then(x => console.log('Fast horses ', x));\nPromise.race(promises).then(({ horse, time }) => console.log(`Fast horses ${horse} it time ${time}`));\n\nPromise.all(promises).then(x => x.map(({ horse, time }) => console.log(`Name horses ${horse} it time ${time}`)));\n\nfunction run(horse) {\n  return new Promise((resolve, reject) => {\n    const time = getRandomTime(2000, 3500);\n    setTimeout(() => {\n      resolve({ horse, time });\n    }, time);\n    })\n  }\n\nfunction getRandomTime(min, max) { \n  return Math.round(Math.random() * (max - min) + min);\n}"],"names":["id","fetch","then","r","json","pokemon","console","log","catch","err","$47d4ff9957288465$var$promises","map","horse","Promise","resolve","reject","time","min","max","Math","round","random","setTimeout","$47d4ff9957288465$var$run","race","x","all"],"version":3,"file":"03-promises.76ecb20f.js.map"}