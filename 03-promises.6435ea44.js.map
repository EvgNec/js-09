{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAsDA,SAASC,EAAcC,EAAUC,GAC/B,IAAMC,EAAgBC,KAAKC,SAAW,GACpC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACzB,OAAIL,EACII,EAAQ,CAACN,WAAUC,aAEnBM,EAAO,CAACP,WAAUC,Y,KA1DrB,CACXO,SAAUC,SAASC,cAAc,qBACjCC,QAASF,SAASC,cAAc,oBAChCE,UAAWH,SAASC,cAAc,sBACpCG,KAAMJ,SAASC,cAAc,WAGxBG,KAAKC,iBAAiB,UAAU,SAACC,GAClCA,EAAEC,iBAsBH,IArBD,IAAMH,EAAOE,EAAEE,cACXC,GAASL,EAAY,MAAEM,MACrBC,GAAUP,EAAa,OAAEM,MACzBE,GAAQR,EAAW,KAAEM,MAkBjBG,EAAI,EAAGA,GAAKF,EAAQE,GAAK,EAAG,CAElC,IAAMC,EAAaL,EACJA,GAASG,EAExBtB,EAJWuB,EAIaC,GACrBC,MAAK,SAAAC,G,IAAGzB,EAAQyB,EAARzB,SAAUC,EAAQwB,EAARxB,SAEjByB,YAAW,WACTC,EAAA9B,GAAS+B,OAAOC,QAAQ,uBAAwCC,OAAf9B,EAAS,QAAe8B,OAAT7B,EAAS,M,GACxEA,E,IAGJ8B,OAAM,SAAAN,G,IAAGzB,EAAQyB,EAARzB,SAAUC,EAAQwB,EAARxB,SAClByB,YAAW,WACTC,EAAA9B,GAAS+B,OAAOI,QAAQ,sBAAqCF,OAAf9B,EAAS,QAAe8B,OAAT7B,EAAS,M,GACrEA,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  delayInp: document.querySelector(\"input[name=delay]\"),\n  stepInp: document.querySelector(\"input[name=step]\"),\n  amountInp: document.querySelector(\"input[name=amount]\"),\nform: document.querySelector('.form'),\n}\n\nrefs.form.addEventListener('submit', (e) => {\n    e.preventDefault();\n  const form = e.currentTarget\n  let delay = +form['delay'].value\n  const amount = +form['amount'].value\n  const step = +form['step'].value\n  let position = 0;\n// for (let i = 0; i  < amount; i++) {\n\n//   position += 1;\n//  const firstDelay = position\n//   createPromise(position, delay)\n//     .then(() => {\n//       setTimeout(() => {\n//             Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n//           }, delay)})\n//     .catch(() => {\n//       setTimeout(() => {\n//             Notiflix.Notify.success(`❌ Rejected promise ${position} in ${delay}ms`);\n//           }, delay)})\n//   delay += step;\n  \n// }\n   for (let i = 1; i <= amount; i += 1) {\n      position = i\n      const firstDelay = delay\n      let newDelay = delay += step\n\n      createPromise(position, firstDelay, newDelay)\n        .then(({ position, newDelay }) => {\n\n          setTimeout(() => {\n            Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${newDelay}ms`);\n          }, newDelay)\n        })\n\n        .catch(({ position, newDelay }) => {\n          setTimeout(() => {\n            Notiflix.Notify.warning(`❌ Rejected promise ${position} in ${newDelay}ms`);\n          }, newDelay)\n        })\n    }\n\n})\n\nfunction createPromise(position, newDelay) {\n  const shouldResolve = Math.random() > 0.5;\n    return new Promise((resolve, reject) => {\n        if (shouldResolve) {\n         return resolve({position, newDelay})\n        } else {\n         return reject({position, newDelay})\n        }\n  })\n}\n"],"names":["$ejkSG","parcelRequire","$ce04d3a99e08e73b$var$createPromise","position","newDelay","shouldResolve","Math","random","Promise","resolve","reject","delayInp","document","querySelector","stepInp","amountInp","form","addEventListener","e","preventDefault","currentTarget","delay","value","amount","step","i","firstDelay","then","param","setTimeout","$parcel$interopDefault","Notify","success","concat","catch","warning"],"version":3,"file":"03-promises.6435ea44.js.map"}